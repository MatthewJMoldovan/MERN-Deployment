{"ast":null,"code":"import _slicedToArray from\"C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AllStores=function AllStores(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stores=_useState2[0],setStores=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8000/api/stores\").then(function(res){setStores(res.data);console.log(res.data);}).catch(function(error){console.log(error);});},[]);var handleDeleteClick=function handleDeleteClick(idToDelete){axios.delete(\"http://localhost:8000/api/stores/\".concat(idToDelete)).then(function(res){var filteredStores=stores.filter(function(store){var isStoreToDelete=idToDelete===store._id;if(isStoreToDelete){return false;}return true;});setStores(filteredStores);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"w-75 p-4 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"shadow mb-4 rounded border p-4 text-center\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Store\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Store Number\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Remove\"})]})}),stores.map(function(store,i){var _id=store._id,name=store.name,number=store.number,open=store.open;return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle fs-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/store/\".concat(_id),children:name})}),/*#__PURE__*/_jsx(\"td\",{children:number}),open&&/*#__PURE__*/_jsx(\"td\",{children:\"Open\"}),open&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){handleDeleteClick(_id);},className:\"btn btn-outline-danger mx-1\",children:\"Delete\"})}),!open&&/*#__PURE__*/_jsx(\"td\",{children:\"Closed\"})]},i)});})]}),/*#__PURE__*/_jsx(Link,{to:\"/store/new\",className:\"btn btn-success mx-1\",children:\"Add a new Store\"})]})});};","map":{"version":3,"names":["axios","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","AllStores","props","_useState","_useState2","_slicedToArray","stores","setStores","get","then","res","data","console","log","catch","error","handleDeleteClick","idToDelete","delete","concat","filteredStores","filter","store","isStoreToDelete","_id","className","children","scope","map","i","name","number","open","to","onClick","event"],"sources":["C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/src/views/AllStores.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const AllStores = (props) => {\r\n  const [stores, setStores] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/api/stores\")\r\n      .then((res) => {\r\n        setStores(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const handleDeleteClick = (idToDelete) => {\r\n    axios\r\n      .delete(`http://localhost:8000/api/stores/${idToDelete}`)\r\n      .then((res) => {\r\n        const filteredStores = stores.filter((store) => {\r\n          const isStoreToDelete = idToDelete === store._id;\r\n\r\n          if (isStoreToDelete) {\r\n            return false;\r\n          }\r\n          return true;\r\n        });\r\n\r\n        setStores(filteredStores);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-75 p-4 mx-auto\">\r\n      <div className=\"shadow mb-4 rounded border p-4 text-center\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Store</th>\r\n              <th scope=\"col\">Store Number</th>\r\n              <th scope=\"col\">Open</th>\r\n              <th scope=\"col\">Remove</th>\r\n            </tr>\r\n          </thead>\r\n          {stores.map((store, i) => {\r\n            const { _id, name, number, open } = store;\r\n            return (\r\n              <tbody>\r\n                <tr key={i}>\r\n                  <td className=\"align-middle fs-4\">\r\n                    <Link to={`/store/${_id}`}>{name}</Link>\r\n                  </td>\r\n                  <td>{number}</td>\r\n                  {open && <td>Open</td>}\r\n                  {open && (\r\n                    <td>\r\n                      <button\r\n                        onClick={(event) => {\r\n                          handleDeleteClick(_id);\r\n                        }}\r\n                        className=\"btn btn-outline-danger mx-1\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  )}\r\n                  {!open && <td>Closed</td>}\r\n                </tr>\r\n              </tbody>\r\n            );\r\n          })}\r\n        </table>\r\n        <Link to=\"/store/new\" className=\"btn btn-success mx-1\">\r\n            Add a new Store\r\n          </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}