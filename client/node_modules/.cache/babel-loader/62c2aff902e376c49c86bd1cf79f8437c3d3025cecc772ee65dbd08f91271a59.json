{"ast":null,"code":"import _slicedToArray from\"C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NewStore=function NewStore(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),number=_useState4[0],setNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),validationErrors=_useState8[0],setValidationErrors=_useState8[1];var navigate=useNavigate();var handleNewStoreSubmit=function handleNewStoreSubmit(event){event.preventDefault();var newStore={name:name,number:number,open:open};axios.post(\"http://localhost:8000/api/stores\",newStore).then(function(res){console.log(res.data);navigate(\"/\");}).catch(function(error){var _error$response,_error$response$data;console.log(error);setValidationErrors(error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.errors);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 p-4 rounded mx-auto shadow mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Add an Store!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){handleNewStoreSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.name)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.name.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(event){setName(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Store Number\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.number)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.number.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(event){setNumber(event.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Open?\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.open)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.open.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",onChange:function onChange(event){setOpen(event.target.checked);}})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary me-1 mt-2\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-danger mx-1 mt-2\",children:\"Cancel\"})]})]})});};","map":{"version":3,"names":["axios","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","NewStore","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","number","setNumber","_useState5","_useState6","open","setOpen","_useState7","_useState8","validationErrors","setValidationErrors","navigate","handleNewStoreSubmit","event","preventDefault","newStore","post","then","res","console","log","data","catch","error","_error$response","_error$response$data","response","errors","children","className","onSubmit","message","type","onChange","target","value","checked","to"],"sources":["C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/src/views/NewStore.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nexport const NewStore = (props) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const [validationErrors, setValidationErrors] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleNewStoreSubmit = (event) => {\r\n    event.preventDefault();\r\n    const newStore = { name, number, open };\r\n\r\n    axios\r\n      .post(\"http://localhost:8000/api/stores\", newStore)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        navigate(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setValidationErrors(error?.response?.data?.errors);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"w-50 p-4 rounded mx-auto shadow mt-4\">\r\n        <h3 className=\"text-center\">Add an Store!</h3>\r\n        <form\r\n          onSubmit={(event) => {\r\n            handleNewStoreSubmit(event);\r\n          }}\r\n        >\r\n          <div className=\"formGroup\">\r\n            <label>Name</label>\r\n            {validationErrors?.name && (\r\n              <span className=\"text-danger ms-1\">\r\n                - {validationErrors.name.message}\r\n              </span>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={(event) => {\r\n                setName(event.target.value);\r\n              }}\r\n            />\r\n            <label>Store Number</label>\r\n            {validationErrors?.number && (\r\n              <span className=\"text-danger ms-1\">\r\n                - {validationErrors.number.message}\r\n              </span>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={(event) => {\r\n                setNumber(event.target.value);\r\n              }}\r\n            />\r\n            <div className=\"form-check\">\r\n            <label className=\"form-check-label\">Open?</label>\r\n            {validationErrors?.open && (\r\n              <span className=\"text-danger ms-1\">\r\n                - {validationErrors.open.message}\r\n              </span>\r\n            )}\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              onChange={(event) => {\r\n                setOpen(event.target.checked);\r\n              }}\r\n            />\r\n            </div>\r\n          </div>\r\n          <button className=\"btn btn-outline-primary me-1 mt-2\">Submit</button>\r\n          <Link to={\"/\"} className=\"btn btn-outline-danger mx-1 mt-2\">\r\n            Cancel\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}