{"ast":null,"code":"import _slicedToArray from\"C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,useNavigate,Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditStore=function EditStore(props){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),number=_useState4[0],setNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),validationErrors=_useState8[0],setValidationErrors=_useState8[1];useEffect(function(){axios.get(\"http://localhost:8000/api/stores/\".concat(id)).then(function(res){var _res$data=res.data,name=_res$data.name,number=_res$data.number,open=_res$data.open;setName(name);setNumber(number);setOpen(open);console.log(res.data);}).catch(function(error){console.log(error);});},[id]);var handleEditSubmit=function handleEditSubmit(event){event.preventDefault();var editedStore={name:name,number:number,open:open};axios.put(\"http://localhost:8000/api/stores/\".concat(id),editedStore).then(function(res){console.log(res.data);navigate(\"/store/\".concat(id));}).catch(function(error){var _error$response,_error$response$data;console.log(error);setValidationErrors(error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.errors);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 p-4 rounded mx-auto shadow mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Add an Store!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){handleEditSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.name)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.name.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:name,onChange:function onChange(event){setName(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Store Number\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.number)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.number.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:number,onChange:function onChange(event){setNumber(event.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Open?\"}),(validationErrors===null||validationErrors===void 0?void 0:validationErrors.open)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger ms-1\",children:[\"- \",validationErrors.open.message]}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:open,onChange:function onChange(event){setOpen(event.target.checked);}})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary me-1 mt-2\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-danger mx-1 mt-2\",children:\"Cancel\"})]})]})});};","map":{"version":3,"names":["useParams","useNavigate","Link","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","EditStore","props","_useParams","id","navigate","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","number","setNumber","_useState5","_useState6","open","setOpen","_useState7","_useState8","validationErrors","setValidationErrors","get","concat","then","res","_res$data","data","console","log","catch","error","handleEditSubmit","event","preventDefault","editedStore","put","_error$response","_error$response$data","response","errors","children","className","onSubmit","message","type","value","onChange","target","checked","to"],"sources":["C:/Users/matth/iCloudDrive/Documents/dojo_assignments/MERN/React/MERN Exam/client/src/views/EditStore.js"],"sourcesContent":["import { useParams, useNavigate, Link } from \"react-router-dom\"\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const EditStore = (props) =>{\r\nconst { id } = useParams();\r\nconst navigate = useNavigate();\r\n\r\nconst [name, setName] = useState(\"\");\r\nconst [number, setNumber] = useState(\"\");\r\nconst [open, setOpen] = useState(false);\r\nconst [validationErrors, setValidationErrors] = useState(null);\r\n\r\n\r\nuseEffect(() => {\r\n  axios\r\n    .get(`http://localhost:8000/api/stores/${id}`)\r\n    .then((res) => {\r\n      const { name,number,open } = res.data\r\n      \r\n      setName(name)\r\n      setNumber(number)\r\n      setOpen(open)\r\n      console.log(res.data);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n}, [id]);\r\n\r\n\r\nconst handleEditSubmit = (event) => {\r\n  event.preventDefault();\r\n  const editedStore = {name, number, open};\r\n\r\n  axios\r\n  .put(`http://localhost:8000/api/stores/${id}`, editedStore)\r\n  .then((res) => {\r\n    console.log(res.data);\r\n    navigate(`/store/${id}`)\r\n  })\r\n  .catch((error) => {\r\n    console.log(error);\r\n    setValidationErrors(error?.response?.data?.errors);\r\n  });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <div className=\"w-50 p-4 rounded mx-auto shadow mt-4\">\r\n      <h3 className=\"text-center\">Add an Store!</h3>\r\n      <form\r\n        onSubmit={(event) => {\r\n          handleEditSubmit(event);\r\n        }}\r\n      >\r\n        <div className=\"formGroup\">\r\n          <label>Name</label>\r\n          {validationErrors?.name && (\r\n            <span className=\"text-danger ms-1\">\r\n              - {validationErrors.name.message}\r\n            </span>\r\n          )}\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={name}\r\n            onChange={(event) => {\r\n              setName(event.target.value);\r\n            }}\r\n          />\r\n          <label>Store Number</label>\r\n          {validationErrors?.number && (\r\n            <span className=\"text-danger ms-1\">\r\n              - {validationErrors.number.message}\r\n            </span>\r\n          )}\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={number}\r\n            onChange={(event) => {\r\n              setNumber(event.target.value);\r\n            }}\r\n          />\r\n          <div className=\"form-check\">\r\n          <label className=\"form-check-label\">Open?</label>\r\n          {validationErrors?.open && (\r\n            <span className=\"text-danger ms-1\">\r\n              - {validationErrors.open.message}\r\n            </span>\r\n          )}\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"form-check-input\"\r\n            checked={open}\r\n            onChange={(event) => {\r\n              setOpen(event.target.checked);\r\n            }}\r\n          />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-outline-primary me-1 mt-2\">Submit</button>\r\n        <Link to={\"/\"} className=\"btn btn-outline-danger mx-1 mt-2\">\r\n          Cancel\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}